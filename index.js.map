{"version":3,"file":"index.js","sources":["src/validations/input.tsx","src/validations/checkbox.tsx","src/validations/select.tsx","src/hooks/Form/index.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\ninterface iValidation{\r\n  regex: RegExp;\r\n  error: string;\r\n}\r\n\r\ninterface iMaskExpression{\r\n  regex: RegExp;\r\n  replace: string;\r\n}\r\n\r\ninterface iMask{\r\n  expressions: iMaskExpression[];\r\n}\r\n\r\ninterface iValidationList{\r\n  email: iValidation;\r\n  cep: iValidation;\r\n  senha: iValidation;\r\n  telefone: iValidation;\r\n}\r\n\r\ninterface iMaskList{\r\n  cep: iMask;\r\n  cpf: iMask;\r\n  cnpj: iMask;\r\n  telefone: iMask;\r\n  inteiros: iMask;\r\n}\r\n\r\nconst validations: iValidationList = {\r\n  email: {\r\n    regex:\r\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n    error: \"Digite um endereço de e-mail válido.\",\r\n  },\r\n  cep: {\r\n    regex: /^\\d{5}-\\d{3}$/,\r\n    error: \"Digite um CEP válido.\",\r\n  },\r\n  senha: {\r\n    regex: /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/,\r\n    error: \"A senha precisa ter no mínimo 8 caracteres, pelo menos 1 número, uma 1 letra maiúscula e 1 minúscula.\",\r\n  },\r\n  telefone: {\r\n    regex: /^\\(?[1-9]{2}\\)? ?(?:[2-8]|9[1-9])[0-9]{3}\\-?[0-9]{4}$/,\r\n    error: \"Digite um telefone ou celular válido\",\r\n  },\r\n};\r\n\r\nconst masks: iMaskList = {\r\n  cep: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /^(\\d{5})(\\d)/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  cpf: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d{1,2})$/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  cnpj: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /^(\\d{2})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /^(\\d{2})\\.(\\d{3})(\\d)/,\r\n        replace: \"$1.$2.$3\",\r\n      },\r\n      {\r\n        regex: /\\.(\\d{3})(\\d)/,\r\n        replace: \"$1/$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{4})(\\d)/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  telefone: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /^(\\d{2})(\\d)/g,\r\n        replace: \"($1) $2\",\r\n      },\r\n      {\r\n        regex: /(\\d)(\\d{4})$/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  inteiros: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /(\\d)$/,\r\n        replace: \"$1\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n};\r\n\r\ninterface iInputErrorText{\r\n  required?: string;\r\n  minLength?: string;\r\n  same?: string;\r\n}\r\n\r\ninterface iUseInputProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: string;\r\n  validation?: 'email' | 'cep' | 'senha' | 'telefone';\r\n  mask?: 'cep' | 'cpf' | 'cnpj' | 'telefone' | 'inteiros';\r\n  customValidation?: iValidation;\r\n  customMask?: iMask;\r\n  same?: string;\r\n  minLength?:  number;\r\n  errorText: iInputErrorText;\r\n}\r\n\r\ninterface iUseInputInputProps{\r\n  value: string;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n  onKeyUp: () => void;\r\n  onBlur: () => void;\r\n}\r\n\r\ninterface iUseInputReturn{\r\n  inputProps: iUseInputInputProps;\r\n  type: \"input\",\r\n  value: string,\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseInput = (\r\n  props: iUseInputProps,\r\n) => iUseInputReturn;\r\n\r\n/**\r\n * hook de validação de input (text, email, password)\r\n */\r\nexport const useInput: tUseInput = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState<string>(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  const validate = (disabledErrors?: boolean) => {\r\n    \r\n    // Atribui o erro ao estado caso o controle esteja habilitado\r\n    function setValidateError(errorText: string) {\r\n      if (!disabledErrors) {\r\n        setError(errorText);\r\n      }\r\n    }\r\n\r\n    if (props?.optional) return true;\r\n\r\n    //Se campo estiver vazio\r\n    if (value.length === 0) {\r\n      setValidateError(props.errorText?.required || \"Preencha um valor.\");\r\n      return false;\r\n\r\n    //Se campo estiver abaixo do mínimo de caracteres\r\n    } else if (props?.minLength && value.length < props?.minLength) {\r\n      setValidateError(\r\n        props.errorText?.minLength ||\r\n          `Este campo precisa conter pelo menos ${props?.minLength} digitos.`\r\n      );\r\n      return false;\r\n\r\n    // Se o campo não corresponder com o campo relacionado\r\n    } else if (props?.same && value !== props?.same) {\r\n      setValidateError(props.errorText?.same || \"Os campos não correspondem.\");\r\n      return false;\r\n\r\n    //Validação de Regex\r\n    } else if (\r\n      props?.validation &&\r\n      !validations[props?.validation]?.regex.test(value)\r\n    ) {\r\n      setValidateError(validations[props?.validation].error);\r\n      return false;\r\n\r\n    //Validação de Regex Custom\r\n    } else if (\r\n      props?.customValidation &&\r\n      !props?.customValidation.regex.test(value)\r\n    ) {\r\n      setValidateError(props?.customValidation.error);\r\n      return false;\r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const maskInput = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      const currentMask = props?.customMask || (props?.mask && masks[props?.mask]);\r\n      let newValue = value;\r\n      currentMask?.expressions.forEach((expression) => {\r\n        newValue = newValue.replace(expression.regex, expression.replace);\r\n      });\r\n      setValue(newValue);\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    if (error) validate();\r\n    const target = event.target as HTMLInputElement;\r\n    setValue(target.value);\r\n  };\r\n\r\n  const onKeyUp = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      maskInput();\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n      onKeyUp,\r\n      onBlur: () => validate(),\r\n    },\r\n    type: \"input\",\r\n    value,\r\n    setValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};","import * as React from \"react\";\r\n\r\ninterface iCheckboxErrorText{\r\n  required?: string;\r\n}\r\n\r\ninterface iUseCheckboxProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: boolean;\r\n  errorText: iCheckboxErrorText;\r\n}\r\n\r\ninterface iUseCheckboxInputProps{\r\n  value: boolean;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseCheckboxReturn{\r\n  inputProps: iUseCheckboxInputProps;\r\n  type: \"checkbox\",\r\n  value: boolean,\r\n  setValue: React.Dispatch<React.SetStateAction<boolean>>;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseCheckbox = (\r\n  props: iUseCheckboxProps,\r\n) => iUseCheckboxReturn;\r\n\r\n/**\r\n * hook para validação de checkboxes\r\n */\r\nexport const useCheckbox: tUseCheckbox = (props) => {\r\n  const initialValue = props?.initialValue || false;\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  const validate = (disabledErrors?: boolean) => {\r\n    if (props?.optional) return true;\r\n\r\n    if (!value) {\r\n      if (!disabledErrors) {\r\n        setError(\r\n          props.errorText?.required || \"Marcar esta caixa é obrigátorio.\"\r\n        );\r\n      }\r\n      return false;\r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.checked || props?.optional) {\r\n      setValue(true);\r\n      setError(null);\r\n    } else {\r\n      setValue(false);\r\n      setError(props.errorText?.required || \"Marcar esta caixa é obrigátorio.\");\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n    },\r\n    type: \"checkbox\",\r\n    value,\r\n    setValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iSelectErrorText{\r\n  required?: string;\r\n}\r\n\r\ninterface iUseSelectProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: string;\r\n  errorText: iSelectErrorText;\r\n}\r\n\r\ninterface iUseSelectInputProps{\r\n  value: string;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseSelectReturn{\r\n  inputProps: iUseSelectInputProps;\r\n  type: \"select\",\r\n  value: string,\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseSelect = (\r\n  props: iUseSelectProps,\r\n) => iUseSelectReturn;\r\n\r\nexport const useSelect: tUseSelect = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  function validate(disabledErrors?: boolean) {\r\n    if (props?.optional) return true;\r\n    if (!value) {\r\n      if (!disabledErrors) {\r\n        setError(\"É necessário selecionar pelo menos um valor neste campo.\");\r\n      }\r\n      return false;\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.value || props?.optional) {\r\n      console.log(target.value);\r\n      setValue(target.value);\r\n      setError(null);\r\n    } else {\r\n      setValue(\"\");\r\n      setError(\"É necessário selecionar pelo menos um valor neste campo.\");\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n      error,\r\n    },\r\n    type: \"select\",\r\n    value,\r\n    setValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iUseFormProps{\r\n  formFields: any[],\r\n  stepMode?: 'onChange',\r\n  stepClearFieldsOnBack?: boolean,\r\n  stepFields?: any;\r\n  clearFields?: boolean;\r\n  submitCallback: (formData: any) => void;\r\n}\r\n\r\ninterface iUseFormReturn{\r\n  handleSubmit: (event: React.SyntheticEvent) => void;\r\n  canProceed: boolean;\r\n  step: number;\r\n  nextStep: (event: React.SyntheticEvent) => void;\r\n  previousStep: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ntype tUseForm = (\r\n props: iUseFormProps,\r\n) => iUseFormReturn;\r\n\r\n/**\r\n * hook para formulários\r\n */\r\nexport const useForm: tUseForm = ({\r\n  formFields,\r\n  stepMode,\r\n  stepClearFieldsOnBack,\r\n  stepFields,\r\n  clearFields,\r\n  submitCallback,\r\n}) => {\r\n  const [step, setStep] = React.useState(0);\r\n  const [canProceed, setCanProceed] = React.useState(false);\r\n\r\n  if (stepFields) {\r\n    React.useEffect(() => {\r\n      if (stepMode === \"onChange\" && stepFields) {\r\n        const validationList = stepFields?.[step].map((field: any) =>\r\n          field.validate(true)\r\n        );\r\n        if (validationList.every((validation: boolean) => validation)) {\r\n          setCanProceed(true);\r\n        } else {\r\n          setCanProceed(false);\r\n        }\r\n      }\r\n    }, stepFields[step].map((field: any) => field.value));\r\n  }\r\n\r\n  function nextStep(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n    //Executa todas as validações na etapa atual\r\n    const validationList = stepFields?.[step].map((field: any) => field.validate());\r\n    if (validationList.every((validation: boolean) => validation)) {\r\n      setStep(step + 1); //Incrementa a etapa\r\n    }\r\n  }\r\n\r\n  function previousStep(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n    if (step > 0) {\r\n      if(stepClearFieldsOnBack){\r\n        stepFields[step].forEach((field: any) => {\r\n          const initialValue = field.type === \"checkbox\" ? false : \"\";\r\n          field.setValue(initialValue);\r\n        });\r\n      }\r\n      setStep(step - 1); //Decrementa a etapa\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n\r\n    //Executa todas as validações\r\n    const validationList = formFields.map((field) => field.validate());\r\n\r\n    //Verifica se todas as validações são válidas\r\n    if (validationList.every((validation) => validation)) {\r\n      //Condensa os valores dos campos um objeto data (LX Hook Form)\r\n      const formData = formFields.reduce((dataObject, currentItem) => {\r\n        dataObject[currentItem.inputProps.name] = currentItem.inputProps.value;\r\n        return dataObject;\r\n      }, {});\r\n\r\n      submitCallback(formData); //Executa função de callback passando o formData\r\n\r\n      //Função de limpeza de campos\r\n      if (clearFields) {\r\n        formFields.forEach((field) => {\r\n          const initialValue = field.type === \"checkbox\" ? false : \"\";\r\n          field.setValue(initialValue);\r\n        });\r\n        //Reinicia etapas\r\n        setStep(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    handleSubmit,\r\n    canProceed,\r\n    step,\r\n    nextStep,\r\n    previousStep,\r\n  };\r\n};\r\n"],"names":["React"],"mappings":"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"}