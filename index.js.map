{"version":3,"file":"index.js","sources":["src/validations/input.tsx","src/validations/checkbox.tsx","src/validations/select.tsx","src/validations/radio.tsx","src/validations/checkboxGroup.tsx","src/hooks/Form/index.tsx","src/validations/number.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { iCustomRule, iMask, iValidation } from \"./types/global\";\r\n\r\ninterface iValidationList {\r\n  email: iValidation;\r\n  cep: iValidation;\r\n  senha: iValidation;\r\n  telefone: iValidation;\r\n}\r\n\r\ninterface iMaskList {\r\n  cep: iMask;\r\n  cpf: iMask;\r\n  cnpj: iMask;\r\n  telefone: iMask;\r\n  inteiros: iMask;\r\n}\r\n\r\nconst validations: iValidationList = {\r\n  email: {\r\n    regex:\r\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n    error: \"Digite um endereço de e-mail válido.\",\r\n  },\r\n  cep: {\r\n    regex: /^\\d{5}-\\d{3}$/,\r\n    error: \"Digite um CEP válido.\",\r\n  },\r\n  senha: {\r\n    regex: /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/,\r\n    error:\r\n      \"A senha precisa ter no mínimo 8 caracteres, pelo menos 1 número, uma 1 letra maiúscula e 1 minúscula.\",\r\n  },\r\n  telefone: {\r\n    regex: /^\\(?[1-9]{2}\\)? ?(?:[2-8]|9[1-9])[0-9]{3}\\-?[0-9]{4}$/,\r\n    error: \"Digite um telefone ou celular válido\",\r\n  },\r\n};\r\n\r\nconst masks: iMaskList = {\r\n  cep: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /^(\\d{5})(\\d)/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  cpf: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      { \r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d{1,2})$/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  cnpj: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /(\\d{2})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1.$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{3})(\\d)/,\r\n        replace: \"$1/$2\",\r\n      },\r\n      {\r\n        regex: /(\\d{4})(\\d{1,2})$/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  telefone: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /^(\\d{2})(\\d)/g,\r\n        replace: \"($1) $2\",\r\n      },\r\n      {\r\n        regex: /(\\d)(\\d{4})$/,\r\n        replace: \"$1-$2\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n  inteiros: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /(\\d)$/,\r\n        replace: \"$1\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n};\r\n\r\ninterface iInputErrorText {\r\n  required?: string;\r\n  minLength?: string;\r\n  maxLength?: string;\r\n  same?: string;\r\n}\r\n\r\n\r\ninterface iUseInputProps {\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: string;\r\n  validation?: \"email\" | \"cep\" | \"senha\" | \"telefone\";\r\n  mask?: \"cep\" | \"cpf\" | \"cnpj\" | \"telefone\" | \"inteiros\";\r\n  customValidations?: iValidation[];\r\n  customMask?: iMask;\r\n  same?: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  errorText?: iInputErrorText;\r\n  customRule?: iCustomRule;\r\n}\r\n\r\ninterface iUseInputInputProps {\r\n  value: string;\r\n  name: string;\r\n  maxLength: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n  onKeyUp: () => void;\r\n  onBlur: () => void;\r\n}\r\n\r\ninterface iUseInputReturn {\r\n  inputProps: iUseInputInputProps;\r\n  type: \"input\";\r\n  value: string;\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  initialValue: string;\r\n  error: string | null;\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseInput = (props: iUseInputProps) => iUseInputReturn;\r\n\r\n/**\r\n * hook de validação de input (text, email, password)\r\n */\r\nexport const useInput: tUseInput = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState<string>(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    if (error) validate();\r\n  }, [value]);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n  */\r\n\r\n  const validate = (disabledErrors?: boolean) => {\r\n\r\n    function setValidateError(errorText: string) {\r\n      if (!disabledErrors) {\r\n        setError(errorText);\r\n      }\r\n    }\r\n\r\n    function doCustomValidations(validations: iValidation[]){\r\n      let validationsErrors: string[] = [];\r\n      validations.forEach(validation => {\r\n        if(!validation.regex.test(value)){\r\n          validationsErrors.push(validation.error);\r\n        }\r\n      })\r\n      if(validationsErrors.length > 0){\r\n        return validationsErrors;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    function doCustomRule(){\r\n      if(props?.customRule){\r\n        return props.customRule.callback(value);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (props?.optional) return true;\r\n\r\n    if (value.length === 0) {\r\n      setValidateError(props.errorText?.required || \"Preencha um valor.\");\r\n      return false;\r\n\r\n    } else if (props?.minLength && value.length < props?.minLength) {\r\n      setValidateError(\r\n        props.errorText?.minLength ||\r\n          `Este campo precisa conter pelo menos ${props?.minLength} digitos.`\r\n      );\r\n      return false;\r\n \r\n    } else if (props?.maxLength && value.length > props?.maxLength) {\r\n      setValidateError(\r\n        props.errorText?.minLength ||\r\n          `Este campo precisa conter no máximo ${props?.maxLength} digitos.`\r\n      );\r\n      return false;\r\n     \r\n    } else if (props?.same && value !== props?.same) {\r\n      setValidateError(props.errorText?.same || \"Os campos não correspondem.\");\r\n      return false;\r\n\r\n    } else if (props?.validation && !validations[props?.validation]?.regex.test(value)) {\r\n      setValidateError(validations[props?.validation].error);\r\n      return false;\r\n  \r\n    } else if (props?.customRule && !doCustomRule()){\r\n      setError(props?.customRule?.error ? props?.customRule?.error : 'Ocorreu um erro!')\r\n      return false;\r\n\r\n    } else if (props?.customValidations && doCustomValidations(props?.customValidations)) {\r\n      const validationErrors = doCustomValidations(props?.customValidations)\r\n      setValidateError(validationErrors[0]);\r\n      return false;   \r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const maskInput = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      const currentMask =\r\n        props?.customMask || (props?.mask && masks[props?.mask]);\r\n      let newValue = value;\r\n      currentMask?.expressions.forEach((expression) => {\r\n        newValue = newValue.replace(expression.regex, expression.replace);\r\n      });\r\n      setValue(newValue);\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    setValue(target.value);\r\n  };\r\n\r\n  const onKeyUp = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      maskInput();\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      maxLength: String(props?.maxLength),\r\n      onChange,\r\n      onKeyUp,\r\n      onBlur: () => validate(),\r\n    },\r\n    type: \"input\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iCheckboxErrorText{\r\n  required?: string;\r\n}\r\n\r\ninterface iUseCheckboxProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: boolean;\r\n  errorText?: iCheckboxErrorText;\r\n}\r\n\r\ninterface iUseCheckboxInputProps{\r\n  value: boolean;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseCheckboxReturn{\r\n  inputProps: iUseCheckboxInputProps;\r\n  type: \"checkbox\",\r\n  value: boolean,\r\n  setValue: React.Dispatch<React.SetStateAction<boolean>>;\r\n  initialValue?: boolean;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseCheckbox = (\r\n  props: iUseCheckboxProps,\r\n) => iUseCheckboxReturn;\r\n\r\n/**\r\n * hook para validação de checkboxes\r\n */\r\nexport const useCheckbox: tUseCheckbox = (props) => {\r\n  const initialValue = props?.initialValue || false;\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  const validate = (disabledErrors?: boolean) => {\r\n    if (props?.optional) return true;\r\n\r\n    if (!value) {\r\n      if (!disabledErrors) {\r\n        setError(\r\n          props.errorText?.required || \"Marcar esta caixa é obrigátorio.\"\r\n        );\r\n      }\r\n      return false;\r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.checked || props?.optional) {\r\n      setValue(true);\r\n      setError(null);\r\n    } else {\r\n      setValue(false);\r\n      setError(props.errorText?.required || \"Marcar esta caixa é obrigátorio.\");\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n    },\r\n    type: \"checkbox\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iSelectErrorText{\r\n  required?: string;\r\n}\r\n\r\ninterface iUseSelectProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: string;\r\n  errorText?: iSelectErrorText;\r\n}\r\n\r\ninterface iUseSelectInputProps{\r\n  value: string;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseSelectReturn{\r\n  inputProps: iUseSelectInputProps;\r\n  type: \"select\",\r\n  value: string,\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  initialValue: string;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseSelect = (\r\n  props: iUseSelectProps,\r\n) => iUseSelectReturn;\r\n\r\nexport const useSelect: tUseSelect = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  function validate(disabledErrors?: boolean) {\r\n    if (props?.optional) return true;\r\n    if (!value) {\r\n      if (!disabledErrors) {\r\n        setError(\"É necessário selecionar pelo menos um valor neste campo.\");\r\n      }\r\n      return false;\r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n\r\n    }\r\n  }\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    if (target.value || props?.optional) {\r\n      setValue(target.value);\r\n      setError(null);\r\n    } else {\r\n      setValue(\"\");\r\n      setError(\"É necessário selecionar pelo menos um valor neste campo.\");\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n    },\r\n    type: \"select\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iRadioErrorText{\r\n  required?: string;\r\n}\r\n\r\ninterface iUseRadioProps{\r\n  optional?: boolean;\r\n  name: string;\r\n  initialValue?: string;\r\n  errorText?: iRadioErrorText;\r\n}\r\n\r\ninterface iUseRadioInputProps{\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseRadioReturn{\r\n  inputProps: iUseRadioInputProps;\r\n  type: \"radio\",\r\n  value: string,\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  initialValue: string;\r\n  error: string | null,\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseRadio = (\r\n  props: iUseRadioProps,\r\n) => iUseRadioReturn;\r\n\r\n/**\r\n * hook para validação de radio\r\n */\r\nexport const useRadio: tUseRadio = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  const validate = (disabledErrors?: boolean) => {\r\n    if (props?.optional) return true;\r\n\r\n    if (!value) {\r\n      if (!disabledErrors) {\r\n        setError(\r\n          props.errorText?.required || \"Marcar esta caixa é obrigátorio.\"\r\n        );\r\n      }\r\n      return false;\r\n\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.currentTarget as HTMLInputElement;\r\n    if (target.checked || props?.optional) {\r\n      setValue(target.value);\r\n      setError(null);\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      name: props?.name,\r\n      onChange,\r\n    },\r\n    type: \"radio\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iCheckboxGroupErrorText {\r\n  required?: string;\r\n  min?: string;\r\n  max?: string;\r\n}\r\n\r\ninterface iUseCheckboxGroupProps {\r\n  optional?: boolean;\r\n  name: string;\r\n  min?: number;\r\n  max?: number;\r\n  initialValue?: string[] | [];\r\n  errorText?: iCheckboxGroupErrorText;\r\n}\r\n\r\ninterface iUseCheckboxGroupInputProps {\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseCheckboxGroupReturn {\r\n  inputProps: iUseCheckboxGroupInputProps;\r\n  type: \"checkboxgroup\";\r\n  value: string[] | [];\r\n  setValue: React.Dispatch<React.SetStateAction<[]>>;\r\n  initialValue: string[] | [],\r\n  error: string | null;\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseCheckboxGroup = (\r\n  props: iUseCheckboxGroupProps\r\n) => iUseCheckboxGroupReturn;\r\n\r\n/**\r\n * hook para validação de grupos de checkbox\r\n */\r\nexport const useCheckboxGroup: tUseCheckboxGroup = (props) => {\r\n  const initialValue = props?.initialValue || [];\r\n  const [firstChange, setFirstChange] = React.useState(false);\r\n  const [value, setValue] = React.useState<string[] | []>(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  const minChecks = props?.min || 1;\r\n  const maxChecks = props?.max || false;\r\n\r\n  React.useEffect(() => {\r\n    if (firstChange) {\r\n      if (value.length < minChecks && !maxChecks) {\r\n        setError(\r\n          props?.errorText?.min ||\r\n            `Você precisa selecionar pelo menos ${minChecks} ${\r\n              minChecks === 1 ? \"opção\" : \"opções\"\r\n            }.`\r\n        );\r\n      } else if (value.length < minChecks || value.length > maxChecks) {\r\n        setError(\r\n          props?.errorText?.max ||\r\n            `Você precisa selecionar pelo menos ${minChecks} e no máximo ${maxChecks} ${\r\n              minChecks === 1 ? \"opção\" : \"opções\"\r\n            }`\r\n        );\r\n      }\r\n    }\r\n  }, [value]);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n  const validate = (disabledErrors?: boolean) => {\r\n    \r\n    if (props?.optional) return true;\r\n\r\n    function setValidateError(errorText: string) {\r\n      if (!disabledErrors) {\r\n        setError(errorText);\r\n      }\r\n    }\r\n\r\n    if (value.length < minChecks && !maxChecks) {\r\n      setValidateError(\r\n        props?.errorText?.min ||\r\n          `Você precisa selecionar pelo menos ${minChecks} ${\r\n            minChecks === 1 ? \"opção\" : \"opções\"\r\n          }.`\r\n      );\r\n      return false;\r\n\r\n    } else if (value.length < minChecks || value.length > maxChecks) {\r\n      setValidateError(\r\n        props?.errorText?.max ||\r\n          `Você precisa selecionar pelo menos ${minChecks} e no máximo ${maxChecks} ${\r\n            minChecks === 1 ? \"opção\" : \"opções\"\r\n          }`\r\n      );\r\n      return false;\r\n    } else {\r\n      setError(null);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.currentTarget as HTMLInputElement;\r\n    if (target.checked || props?.optional) {\r\n      if (!value.find((v) => v === target.value)) {\r\n        const newValue = [...value, target.value];\r\n        setValue(newValue);\r\n      }\r\n      setError(null);\r\n    } else {\r\n      const newValue = value.filter((v) => v !== target.value);\r\n      setValue(newValue);\r\n    }\r\n\r\n    //Declara primeira mudança\r\n    if (!firstChange) setFirstChange(true);\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      name: props?.name,\r\n      onChange,\r\n    },\r\n    type: \"checkboxgroup\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n","import * as React from \"react\";\r\n\r\ninterface iUseFormProps {\r\n  formFields: any[];\r\n  stepMode?: \"onChange\";\r\n  stepClearFieldsOnBack?: boolean;\r\n  stepFields?: any;\r\n  stepCallbacks?: any;\r\n  clearFields?: boolean;\r\n  submitCallback: (formData: any) => void;\r\n}\r\n\r\ninterface iUseFormReturn {\r\n  handleSubmit: (event: React.SyntheticEvent) => void;\r\n  canProceed: boolean;\r\n  step: number;\r\n  nextStep: (event: React.SyntheticEvent) => void;\r\n  previousStep: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ntype tUseForm = (props: iUseFormProps) => iUseFormReturn;\r\n\r\n/**\r\n * hook para formulários\r\n */\r\nexport const useForm: tUseForm = ({\r\n  formFields,\r\n  stepMode,\r\n  stepClearFieldsOnBack,\r\n  stepFields,\r\n  stepCallbacks,\r\n  clearFields,\r\n  submitCallback,\r\n}) => {\r\n  const [step, setStep] = React.useState(0);\r\n  const [canProceed, setCanProceed] = React.useState(false);\r\n\r\n  if (stepFields) {\r\n    React.useEffect(() => {\r\n      if (stepMode === \"onChange\" && stepFields) {\r\n        const validationList = stepFields?.[step].map((field: any) =>\r\n          field.validate(true)\r\n        );\r\n\r\n        if (validationList.every((validation: boolean) => validation)) {\r\n          setCanProceed(true);\r\n        } else {\r\n          setCanProceed(false);\r\n        }\r\n      }\r\n    }, [stepFields[step].map((field: any) => field.value)]);\r\n  }\r\n\r\n  function nextStep(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n\r\n    const validationList = stepFields?.[step].map((field: any) =>\r\n      field.validate()\r\n    );\r\n\r\n    if (validationList.every((validation: boolean) => validation)) {\r\n      const callback = stepCallbacks?.[step];\r\n\r\n      if (callback) {\r\n        callback(stepFields?.[step]); \r\n      }\r\n\r\n      setStep(step + 1); \r\n    }\r\n  }\r\n\r\n  function previousStep(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n    \r\n    if (step > 0) {\r\n      if (stepClearFieldsOnBack) {\r\n        stepFields[step].forEach((field: any) => {\r\n          const initialValue = field.type === \"checkbox\" ? false : \"\";\r\n          field.setValue(initialValue);\r\n        });\r\n      }\r\n      setStep(step - 1); \r\n    }\r\n  }\r\n\r\n  function handleSubmit(event: React.SyntheticEvent) {\r\n    event.preventDefault();\r\n\r\n    const validationList = formFields.map((field) => field.validate());\r\n\r\n    if (validationList.every((validation) => validation)) {\r\n\r\n      const formData = formFields.reduce((dataObject, currentItem) => {\r\n        dataObject[currentItem.inputProps.name] = currentItem.value;\r\n        return dataObject;\r\n      }, {});\r\n\r\n      submitCallback(formData); \r\n\r\n      if (clearFields) {\r\n        formFields.forEach((field) => {\r\n          function resetValue() {\r\n            switch (field.type) {\r\n              case \"checkbox\":\r\n                return field.initialValue || false;\r\n              case \"checkboxgroup\":\r\n                return field.initialValue || [];\r\n              default:\r\n                return field.initialValue || \"\";\r\n            }\r\n          }\r\n          const initialValue = resetValue();\r\n          field.setValue(initialValue);\r\n        });\r\n        //Reinicia etapas\r\n        setStep(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    handleSubmit,\r\n    canProceed,\r\n    step,\r\n    nextStep,\r\n    previousStep,\r\n  };\r\n};\r\n","import * as React from \"react\";\r\nimport { iCustomRule, iMask } from \"./types/global\";\r\n\r\ninterface iMaskList {\r\n  inteiros: iMask;\r\n}\r\n\r\nconst masks: iMaskList = {\r\n  inteiros: {\r\n    expressions: [\r\n      {\r\n        regex: /\\D/g,\r\n        replace: \"\",\r\n      },\r\n      {\r\n        regex: /(\\d)$/,\r\n        replace: \"$1\",\r\n      },\r\n    ],\r\n    // clear: /[-!$%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/]/g,\r\n  },\r\n};\r\n\r\ninterface iNumberErrorText {\r\n  required?: string;\r\n  min?: string;\r\n  max?: string;\r\n}\r\n\r\ninterface iUseNumberProps {\r\n  optional?: boolean;\r\n  min?: number;\r\n  max?: number;\r\n  mask?: \"inteiros\";\r\n  customMask?: iMask;\r\n  name: string;\r\n  initialValue?: string;\r\n  errorText?: iNumberErrorText;\r\n  customRule?: iCustomRule;\r\n}\r\n\r\ninterface iUseNumberInputProps {\r\n  value: string;\r\n  name: string;\r\n  onChange: (event: React.SyntheticEvent) => void;\r\n}\r\n\r\ninterface iUseNumberReturn {\r\n  inputProps: iUseNumberInputProps;\r\n  type: \"number\";\r\n  value: string;\r\n  setValue: React.Dispatch<React.SetStateAction<string>>;\r\n  initialValue: string;\r\n  error: string | null;\r\n  setError: React.Dispatch<React.SetStateAction<string | null>>;\r\n  validate: (disabledErrors?: boolean) => void;\r\n}\r\n\r\ntype tUseNumber = (props: iUseNumberProps) => iUseNumberReturn;\r\n\r\nexport const useNumber: tUseNumber = (props) => {\r\n  const initialValue = props?.initialValue || \"\";\r\n  const [value, setValue] = React.useState(initialValue);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  React.useEffect(() => {\r\n  //Caso não haja limite máximo\r\n    if (value) {\r\n      if (error) validate();\r\n    }\r\n  }, [value]);\r\n\r\n  /**\r\n   * @param {boolean} disabledErrors - desabilitada a notificação de erro (ainda bloqueia o envio)\r\n   */\r\n\r\n  function validate(disabledErrors?: boolean) {\r\n    if (props?.optional) return true;\r\n\r\n    const minNumber = props?.min || 0;\r\n    const maxNumber = props?.max;\r\n\r\n    // Atribui o erro ao estado caso o controle esteja habilitado\r\n    function setValidateError(errorText: string) {\r\n      if (!disabledErrors) {\r\n        setError(errorText);\r\n      }\r\n    }\r\n\r\n    //Regra de validação customizada\r\n    function doCustomRule(){\r\n      if(props?.customRule){\r\n        return props.customRule.callback(value);\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    if (!value) {\r\n      setValidateError(props?.errorText?.required || \"Preencha um valor.\");\r\n      return false;\r\n\r\n    } else if (+value.replace(\",\", \".\") < minNumber) {\r\n      setValidateError(\r\n        props?.errorText?.min || `O valor precisar ser no mínimo ${minNumber}.`\r\n      );\r\n      return false;\r\n\r\n    } else if (maxNumber && +value.replace(\",\", \".\") > maxNumber) {\r\n      setValidateError(\r\n        props?.errorText?.max || `O valor não pode ultrapassar ${maxNumber}.`\r\n      );\r\n      return false;\r\n  \r\n    } else if (props?.customRule && !doCustomRule()){\r\n      setValidateError(props?.customRule?.error ? props?.customRule?.error : 'Ocorreu um erro!')\r\n      return false;  \r\n      \r\n    } else {\r\n      setError(null);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  const onChange = (event: React.SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    setValue(target.value);\r\n  };\r\n\r\n  const maskInput = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      const currentMask =\r\n        props?.customMask || (props?.mask && masks[props?.mask]);\r\n      let newValue = value;\r\n      currentMask?.expressions.forEach((expression) => {\r\n        newValue = newValue.replace(expression.regex, expression.replace);\r\n      });\r\n      setValue(newValue);\r\n    }\r\n  };\r\n\r\n  const onKeyUp = () => {\r\n    if (props?.customMask || props?.mask) {\r\n      maskInput();\r\n    }\r\n  };\r\n\r\n  return {\r\n    inputProps: {\r\n      value,\r\n      name: props?.name,\r\n      onChange,\r\n      onKeyUp,\r\n      onBlur: () => validate(),\r\n    },\r\n    type: \"number\",\r\n    value,\r\n    setValue,\r\n    initialValue,\r\n    error,\r\n    setError,\r\n    validate: (disabledErrors) => validate(disabledErrors),\r\n  };\r\n};\r\n"],"names":["masks","React"],"mappings":"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"}